<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Game Hub</title>
  <link rel="stylesheet" href="styles.css"/>
</head>

<body>
<header style="display: flex; justify-content: space-between; align-items: center; padding: 20px; background-color: #333; color: white;">
  <h1 style="margin: 0;">Hello Games</h1>
  <div id="player-info" style="display: flex; align-items: center; gap: 10px;">
    <span id="player-name-display" style="font-weight: bold;"></span>
    <button onclick="window.location.href='signup.html'" style="
      padding: 8px 16px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
    ">
      Sign Up
    </button>
  </div>
</header>
<script>
  // Show name from localStorage if available
  const name = localStorage.getItem('playerName');
  if (name) {
    document.getElementById('player-name-display').textContent = `Welcome, ${name}!`;
  }
</script>
  </header>

  <main class="grid-container" id="game-list">
  <!-- Game cards will be dynamically loaded here -->
</main>

 <!-- To load the game from fire base -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
  import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBUAu5TwvkZvHPXGX1ou-cE79KCPCFk0Hc",
    authDomain: "hellogames-3566b.firebaseapp.com",
    projectId: "hellogames-3566b",
    storageBucket: "hellogames-3566b.appspot.com",
    messagingSenderId: "911778987452",
    appId: "1:911778987452:web:9f1892121a87ea60907fb9",
    measurementId: "G-GFM5ZQXFG5"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const gameList = document.getElementById('game-list');

  async function loadGames() {
    gameList.innerHTML = ''; // Clear existing games if any
    const querySnapshot = await getDocs(collection(db, "games"));
    querySnapshot.forEach((doc) => {
      const game = doc.data();

      // Construct the game card element exactly like your existing HTML structure
      const a = document.createElement('a');
      a.href = `play.html?game=${encodeURIComponent(game.link)}&title=${encodeURIComponent(game.name)}`;
      a.className = `game-card ${game.size || 'small'}`;

      // For "big" size, your HTML has a nested div wrapper, replicate that
      if (game.size === 'big') {
        const wrapper = document.createElement('div');
        wrapper.className = 'game-image-wrapper';

        const img = document.createElement('img');
        img.src = game.image;
        img.alt = game.name;

        const overlay = document.createElement('div');
        overlay.className = 'game-title-overlay';
        overlay.textContent = game.name;

        wrapper.appendChild(img);
        wrapper.appendChild(overlay);
        a.appendChild(wrapper);
      } else {
        // For "small" or "medium", just img + overlay div inside the <a>
        const img = document.createElement('img');
        img.src = game.image;
        img.alt = game.name;

        const overlay = document.createElement('div');
        overlay.className = 'game-title-overlay';
        overlay.textContent = game.name;

        a.appendChild(img);
        a.appendChild(overlay);
      }

      gameList.appendChild(a);
    });
  }

  loadGames();
</script>
</body>
</html>

